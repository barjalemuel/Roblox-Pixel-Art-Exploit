local json = 'json data goes between these single quotes'
local public = true

--{INSTRUCTIONS
READ_ME = [[
    Paste the json data into the single quotes of the 'json' variable.
    
    If you want to change to the public board
    and you have the associating gamepass,
    then change the above variable 'public' to true.
    Otherwise, leave it false.
    
    [WARNING]: YOU MUST BE AT THE PUBLIC BOARD FOR THE
    COLORING/CLEARING TO WORK ON IT. THIS DOES NOT APPLY TO YOUR PRIVATE
    BOARD.
]]
    --(Because there's a server side check on the main remote
    --to check if the player is near the public board.)

warn("SCRIPT EXECUTED")
--{SERVICES
local replicatedStorage = game:GetService("ReplicatedStorage") 
local httpService = game:GetService("HttpService")
local players = game:GetService("Players")
--}

--{REMOTES
local portRemote = replicatedStorage.Port
--}

--{PLAYER
local player = players.LocalPlayer
--}

--{REFERENCES
local drawboards = workspace.DrawBoards.DrawBoards:GetChildren()
local publicBoard = workspace.PublicBoard
--}

--{DATA 
local pixelData = httpService:JSONDecode(json)
local publicPosition = Vector3.new(46, 957, 813)
--}

--{FUNCTIONS
--Find the player's board
local function getBoard()
    if public then return publicBoard end
    for _,board in pairs(drawboards) do
        if board.name.Value == player.Name then 
            return board
        end
    end
end

--Fire remote to place pixel data on board
local function loadData(board)
    for place, hex in pairs(pixelData) do
        for color in pairs(hex) do
            portRemote:FireServer(
                "ApplyColor",
                board.Pixels,
                color,
                place
            )
        end
    end
end
--}

if public then
    loadData(publicBoard)
else
    local playerBoard = getBoard()
    loadData(playerBoard)
end
